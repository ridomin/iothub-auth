<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test iothub-auth</title>
</head>
<body>
    <h1>Test iothub-auth</h1>
    <script type="module">
        import {getIoTHubV1Credentials,getIoTHubV2Credentials} from '../iothub-auth.js'
        ; (async ()=> {
            let output;
            output = '<h1>V1Creds</h1>'
            const [usernamev1, passwordv1, websocketv1] = await getIoTHubV1Credentials(
                'host', 
                'device', 
                'MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA=')
            output += usernamev1
            output += '<br />'
            output += passwordv1
            output += '<br />'
            output += websocketv1

            output+='<h1>V2Creds</h1>'
            const [username, password, websocket] = await getIoTHubV2Credentials(
                'host', 
                'device', 
                'MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA=')
            output += username
            output += '<br />'
            output += password
            output += '<br />'
            output += websocket

            document.write(output)
        })()
    </script>
</body>
</html>